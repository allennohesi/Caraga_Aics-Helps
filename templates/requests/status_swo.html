{% extends 'layout.html' %}
{% block content %}
</style>
<div class="container-fluid">
    <div class="page-title">
        <div class="row">
            <div class="col-6">
                <h3>Status</h3>
            </div>
            <div class="col-6">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{% url 'home' %}">Home</a>
                    </li>
                    <li class="breadcrumb-item active">Status</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-body" id="transaction_content">
                    <ul class="nav nav-pills" id="tabUL" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="pills-ongoing" data-bs-toggle="pill" href="#ongoing" role="tab">
                                <i class="fa fa-file-o"></i> Status of social worker
                            </a>
                        </li>
                    </ul>
                    {% if request.GET.search and data.paginator.count == 0 %}
                    {% comment %} <div class="col-sm-12">
                        <div class="card" id="created_post_data">
                            <div class="card-body" >
                                <h3 class="card-title">{{row.title}}</h3>
                                <div class="col-xs-12">
                                    <a href="{% url 'createIECMaterial' %}" id="btn-back"></i> REFRESH</a>
                                </div>
                            </div>
                        </div>
                    </div> {% endcomment %}
                    {% else %}
                    <br>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="pull-center">
                            Showing {{ data.start_index }} - {{ data.end_index }} of {{ data.paginator.count }} entries&emsp;
                                <div class="btn-group">
                                {% if data.has_other_pages %}
                                    {% if data.has_previous %}
                                        <a class="btn btn-default" href="?page={{ data.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">Previous</a>
                                    {% else %}
                                        <a class="btn btn-default disabled">Previous</a>
                                    {% endif %}
                                    {% for row in data.paginator.page_range %}
                                        {% if data.number == row %}
                                            <a class="btn btn-primary" href="javascript:void(0);">{{ row }}</a>
                                        {% elif row > data.number|add:-3 and row < data.number|add:3 %}
                                            <a class="btn btn-default" href="?page={{ row }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">{{ row }}</a>
                                        {% endif %}
                                    {% endfor %}
                                    {% if data.has_next %}
                                        <a class="btn btn-default" href="?page={{ data.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">Next</a>
                                    {% else %}
                                        <a class="btn btn-default disabled">Next</a>
                                    {% endif %}
                                {% endif %}
                                </div>
                                <a class="btn btn-default" href="{% url 'view_online_swo' %}">Refresh</a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% if request.GET.search and data.paginator.count == 0 %}
                    <div style="padding:0px 15px !important; text-align:center;">
                        <div class="row" style="padding-bottom:15px">
                            <div class="" style="text-align:center;">
                                <img src="" class="img-responsive" style="margin: 0 auto; object-fit: cover;">
                            </div>
                                <a href="{% url 'view_online_swo' %}" id="btn-back"></i> REFRESH</a>
                                <p>
                                    Sorry. We have not found any results matching the search keyword <i>'{% if request.GET.status and request.GET.search %}{{ request.GET.search }}{% else %}{% if request.GET.status %}{{ request.GET.status }}{% endif %}{% if request.GET.search %}{{ request.GET.search }}{% endif %}{% endif %}'</i>. Please try another keyword.
                                </p>
                        </div>
                    </div>
                    {% else %}
                    <div class="tab-content" id="pills-icontabContent">
                        <div class="tab-pane fade show active m-t-30" id="ongoing" role="tabpanel">
                            <small>All online social workers</small>
                            <hr>
                            <form method="get">
                                <div class="col-sm-12">
                                    <div class="input-group form-group">
                                        <input type="text" class="form-control" placeholder="Search last name" name="search" value="{{ request.GET.search }}" autocomplete="off">
                                    </div>
                                </div>
                            </form>
                            <br>
                            <div class="table-responsive text-nowrap table-scroll">
                                <table class="table table-bordered table-hover" id="">
                                    <thead>
                                        <th>ASSIGNED</th>
                                        <th>TABLE NUMBER</th>
                                        <th class="text-center">PENDING ASSESSMENT</th>
                                        <th class="text-center">ONGOING ASSESSMENT</th>
                                        <th class="text-center">COMPLETE ASSESSMENT</th>
                                        <th class="text-center">FOR CASE STUDY</th>
                                        <th class="text-center">ACTIVE</th>
                                    </thead>
                                    {% for row in data %}
                                    <tbody>
                                        <td>{{row.user.get_fullname|upper}}</td>
                                        <td>{{row.table}}</td>
                                        <td class="text-center">{{row.get_total}}</td>
                                        <td class="text-center">{{row.get_ongoing}}</td>
                                        <td class="text-center">{{row.get_complete}}</td>
                                        <td class="text-center">{{row.case_study}}</td>
                                        <td class="text-center"><i class="fa fa-check-circle txt-success"></i></td>
                                    </tbody>
                                    {% endfor %}
                                </table>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade bd-example-modal-lg" id="Tracking_modal" data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <form id="startTransaction">
            {% csrf_token %}
            <div class="modal-content">
                <div class="modal-header">
                <h6 class="modal-title" id="staticBackdropLabel">Tracking of Transaction</h6>
                <button type="button" class="btn-close" id="close_modal" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="load_data">
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block script %}

{% endblock %}